const qrcode = require('qrcode');

exports.generateAttendanceQR = async (req, res) => {
    const { sessionId } = req.params;
    const attendanceUrl = `${process.env.FRONTEND_URL}/student/attendance/${sessionId}`;
    
    try {
        const qrCode = await qrcode.toDataURL(attendanceUrl);
        res.json({ qrCode });
    } catch (error) {
        console.error('Error generating QR code:', error);
        res.status(500).json({ error: 'Failed to generate QR code' });
    }
};